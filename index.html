<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ğŸ‹ Tabungan Laut ğŸª¼</title>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.9.3/dist/confetti.browser.min.js"></script>
  <style>
  body {
  font-family: "Fredoka One" Arial, sans-serif;
  margin: 0;
  padding: 0;
  background-color: #f0f9ff;
  overflow: hidden;              /* ğŸ”§ Hapus scroll global */
  display: flex;                 /* ğŸ”§ Jadikan flex */
  justify-content: center;       /* ğŸ”§ Tengah horizontal */
  align-items: center;           /* ğŸ”§ Tengah vertikal */
  min-height: 100vh;
  text-align: center;
}

/* Background */
#bganimasi {
  position: fixed;
  top: 0; left: 0;
  width: 100%; height: 100%;
  object-fit: cover;
  z-index: -1;
}

/* Kontainer isi */
.container {
  width: 90%;
  max-width: 600px;
  max-height: 90vh;              /* ğŸ”§ Biar nggak lebih tinggi dari layar */
  overflow-y: auto;              /* ğŸ”§ Kalau isi kepanjangan, scroll di dalam */
  background: rgba(0,0,0,0.3);   /* ğŸ”§ transparan biar konten kebaca */
  border-radius: 12px;
  padding: 20px;
  box-sizing: border-box;
}

    h2 { font-size: 36px; color: white; text-shadow: 2px 2px #103244; margin-bottom: 20px; }

    input, button {
      padding: 12px;
      margin: 8px;
      border: none;
      border-radius: 10px;
      font-size: 20px;
    }

    input { width: 60%; }
    button { background: #00bcd4; color: white; cursor: pointer; transition: 0.3s; }
    button:hover { background: #008ba3; }

    .saldo, .ucapan {
      font-size: 22px;
      margin-top: 15px;
      color: white;
      -webkit-text-stroke: 1px #103244;
    }

    canvas { margin-top: 15px; }

    table {
      margin: 20px auto;
      border-collapse: collapse;
      background: white;
      width: 90%;
      border-radius: 10px;
      overflow: hidden;
    }

    th, td {
      border: 1px solid #ddd;
      padding: 8px;
    }
    th { background: #00bcd4; color: white; }

    .ubur, .paus {
      position: fixed;
      animation: gerak 20s linear infinite;
      opacity: 0.8;
    }
    .ubur1 { top: 50%; left: 5%; width: 80px; animation-duration: 25s; }
    .ubur2 { top: 70%; right: 5%; width: 100px; animation-duration: 30s; }
    .paus { bottom: 10%; left: -200px; width: 200px; animation: pausAnim 40s linear infinite; }

    @keyframes gerak {
      0% { transform: translateY(100vh); }
      100% { transform: translateY(-100vh); }
    }

    @keyframes pausAnim {
      0% { left: -200px; }
      100% { left: 110%; }
    }

    /* Responsif untuk hape */
    @media (max-width: 600px) {
      .container {
        padding: 10px;
        width: 90%;
      }
      h2 { font-size: 26px; }
      input, button { width: 100%; font-size: 18px; }
      .saldo, .ucapan, table { 
        width: 100%; 
        font-size: 18px; 
        color: white; 
        -webkit-text-stroke: 1px #103244; 
      }
      .ubur { width: 70px; }
      .paus { width: 150px; }
    }
  </style>
</head>
<body>
  <!-- Background -->
  <img id="bganimasi" src="7e239b3d1a02ae926fc8b446a01dcfb0.jpg" alt="Latar Laut">

  <!-- Animasi laut -->
  <img src="424c95a8cd5fb49edfdb1494cc231c7a-removebg-preview.png" class="ubur ubur1" alt="ubur-ubur">
  <img src="5462198ca28dc7948c493b4e6b9a0ba4-removebg-preview.png" class="ubur ubur2" alt="ubur-ubur">
  <img src="5462198ca28dc7948c493b4e6b9a0ba4-removebg-preview.png" class="paus" alt="paus">

  <!-- Konten utama -->
  <div class="container">
    <h2>ğŸ‹ Tabungan Laut Mayu ğŸ‹</h2>
    <input type="number" id="setoran" placeholder="ğŸ’™ Masukkan nominal..." />
    <button onclick="tambahSetoran()">ğŸ’™</button>

    <div class="saldo">
      Tabungan Terkumpul: <b><span id="saldo">0</span></b> / <span id="targetDisplay">4000000</span>
    </div>

    <div class="ucapan" id="ucapanBox"></div>
    <canvas id="grafik" height="120" width="120"></canvas>

    <table>
      <thead>
        <tr>
          <th>Tanggal</th>
          <th>Tumpahan Koin</th>
          <th>Edit</th>
        </tr>
      </thead>
      <tbody id="daftar"></tbody>
    </table>
  </div>

  <script>
    const target = 4000000;
    document.getElementById("targetDisplay").innerText = target.toLocaleString();

    let saldo = 0;
    const ctx = document.getElementById("grafik").getContext("2d");
    const chart = new Chart(ctx, {
      type: "doughnut",
      data: {
        labels: ["Terkumpul", "Sisa"],
        datasets: [{
          data: [0, target],
          backgroundColor: ["#00bcd4", "#e0f7fa"]
        }]
      },
      options: { cutout: "70%" }
    });

    function updateDisplay() {
      document.getElementById("saldo").innerText = saldo.toLocaleString();
      chart.data.datasets[0].data = [saldo, Math.max(target - saldo, 0)];
      chart.update();

      let pesan = "";
      if (saldo >= target) {
        pesan = "ğŸ‰ğŸ¬ Horee! Target Tercapai! ğŸŒŠğŸ’™";
        confetti();
      } else if (saldo >= target * 0.75) pesan = "ğŸŒŠ Sedikit lagi sampai pantai impian! ğŸš";
      else if (saldo >= target * 0.5) pesan = "ğŸ  Separuh perjalanan laut sudah ditempuh! ğŸŒŠ";
      else if (saldo >= target * 0.25) pesan = "ğŸª¼ Ayo semangat! Perjalanan laut masih panjang!";
      else pesan = "ğŸ³ Ayo menabung setetes demi setetes!";
      
      document.getElementById("ucapanBox").innerText = pesan;
    }

    function tambahSetoran() {
      const input = document.getElementById("setoran");
      const nilai = parseInt(input.value);
      if (isNaN(nilai) || nilai <= 0) return;

      saldo += nilai;
      updateDisplay();

      const tr = document.createElement("tr");
      tr.innerHTML = `<td>${new Date().toLocaleDateString()}</td><td>${nilai.toLocaleString()}</td><td><button onclick="editSetoran(this, ${nilai})">âœï¸</button></td>`;
      document.getElementById("daftar").appendChild(tr);

      input.value = "";
    }

    function editSetoran(btn, nilaiLama) {
      const baru = parseInt(prompt("Ubah nominal:", nilaiLama));
      if (!isNaN(baru) && baru > 0) {
        saldo += baru - nilaiLama;
        updateDisplay();
        btn.parentElement.previousElementSibling.innerText = baru.toLocaleString();
        btn.setAttribute("onclick", `editSetoran(this, ${baru})`);
      }
    }

    updateDisplay();
  </script>
</body>
</html>

